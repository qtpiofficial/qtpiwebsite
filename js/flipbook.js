!function(e){"use strict";function t(e){function t(t){var i=e.match(t);return i&&i.length>1&&i[1]||""}function i(t){var i=e.match(t);return i&&i.length>1&&i[2]||""}var o,n=function(){var e,t=[],i="Shockwave Flash",o="ShockwaveFlash.ShockwaveFlash",n="application/x-shockwave-flash";if("undefined"!=typeof navigator.plugins&&"object"==typeof navigator.plugins[i])e=navigator.plugins[i].description,!e||"undefined"!=typeof navigator.mimeTypes&&navigator.mimeTypes[n]&&!navigator.mimeTypes[n].enabledPlugin||(e=e.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),t[0]=parseInt(e.replace(/^(.*)\..*$/,"$1"),10),t[1]=parseInt(e.replace(/^.*\.(.*)\s.*$/,"$1"),10),t[2]=/[a-zA-Z]/.test(e)?parseInt(e.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if("undefined"!=typeof window.ActiveXObject)try{var s=new ActiveXObject(o);s&&(e=s.GetVariable("$version"),e&&(e=e.split(" ")[1].split(","),t=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]))}catch(r){}return t=[t[0]||0,t[1]||0,t[2]||0],{version:t,enable:!(0===t[0]&&0===t[1]&&0===t[2])}},s=t(/(ipod|iphone|ipad)/i).toLowerCase(),r=/like android/i.test(e),a=!r&&/android/i.test(e),l=/CrOS/.test(e),d=t(/edge\/(\d+(\.\d+)?)/i),h=t(/version\/(\d+(\.\d+)?)/i),c=/tablet/i.test(e),p=!c&&/[^-]mobi/i.test(e),u=n();/opera|opr/i.test(e)?o={name:"Opera",opera:!0,version:h||t(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?o={name:"Yandex Browser",yandexbrowser:!0,version:h||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(e)?(o={name:"Windows Phone",windowsphone:!0},d?(o.msedge=!0,o.version=d):(o.msie=!0,o.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?o={name:"Internet Explorer",msie:!0,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?o={name:"Chrome",chromeBook:!0,chrome:!0,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?o={name:"Microsoft Edge",msedge:!0,version:d}:/chrome|crios|crmo/i.test(e)?o={name:"Chrome",chrome:!0,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?(o={name:"iphone"==s?"iPhone":"ipad"==s?"iPad":"iPod"},h&&(o.version=h)):/sailfish/i.test(e)?o={name:"Sailfish",sailfish:!0,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?o={name:"SeaMonkey",seamonkey:!0,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(e)?(o={name:"Firefox",firefox:!0,version:t(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(o.firefoxos=!0)):/silk/i.test(e)?o={name:"Amazon Silk",silk:!0,version:t(/silk\/(\d+(\.\d+)?)/i)}:a?o={name:"Android",version:h}:/phantom/i.test(e)?o={name:"PhantomJS",phantom:!0,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?o={name:"BlackBerry",blackberry:!0,version:h||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(e)?(o={name:"WebOS",webos:!0,version:h||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(o.touchpad=!0)):o=/bada/i.test(e)?{name:"Bada",bada:!0,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(e)?{name:"Tizen",tizen:!0,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||h}:/safari/i.test(e)?{name:"Safari",safari:!0,version:h}:{name:t(/^(.*)\/(.*) /),version:i(/^(.*)\/(.*) /)},o.windowsphone||o.msie||o.msedge||!/(apple)?webkit/i.test(e)?!o.opera&&/gecko\//i.test(e)&&(o.name=o.name||"Gecko",o.gecko=!0,o.version=o.version||t(/gecko\/(\d+(\.\d+)?)/i)):(o.name=o.name||"Webkit",o.webkit=!0,!o.version&&h&&(o.version=h)),o.windowsphone||o.msie||o.msedge||!a&&!o.silk?o.windowsphone||o.msie||o.msedge||!s||(o[s]=!0,o.ios=!0):o.android=!0;var m="";o.windowsphone?m=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):s?(m=t(/os (\d+([_\s]\d+)*) like mac os x/i),m=m.replace(/[_\s]/g,".")):a?m=t(/android[ \/-](\d+(\.\d+)*)/i):o.webos?m=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):o.blackberry?m=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):o.bada?m=t(/bada\/(\d+(\.\d+)*)/i):o.tizen&&(m=t(/tizen[\/\s](\d+(\.\d+)*)/i)),m&&(o.osversion=m);var g=m.split(".")[0];return c||"ipad"==s||a&&(3==g||4==g&&!p)||o.silk?o.tablet=!0:(p||"iphone"==s||"ipod"==s||a||o.blackberry||o.webos||o.bada)&&(o.mobile=!0),o.msedge||o.msie&&o.version>=10||o.yandexbrowser&&o.version>=15||o.chrome&&o.version>=20||o.firefox&&o.version>=20||o.safari&&o.version>=6||o.opera&&o.version>=10||o.ios&&o.osversion&&o.osversion.split(".")[0]>=6||o.blackberry&&o.version>=10.1?o.a=!0:o.msie&&o.version<10||o.chrome&&o.version<20||o.firefox&&o.version<20||o.safari&&o.version<6||o.opera&&o.version<10||o.ios&&o.osversion&&o.osversion.split(".")[0]<6?o.c=!0:o.x=!0,o.flash=u.enable,o.flashVersion=u.version[0]+"."+u.version[1],o.flash?o.isFlash=!0:o.ios||o.android&&o.chrome||o.android&&o.osversion>4.1?o.isMobile=!0:o.isBasic=!0,o}e.browser=t("undefined"!=typeof navigator?navigator.userAgent:"")}(this),function(e){var t=function(t,i,o){var n=100,o=o||!1,s=e.innerWidth-n,r=e.innerHeight-n,a=s/r,l=t/i,d=a>l?t*r/i:s,h=a>l?r:i*s/t;return o&&(d>t||h>i)?(d=t,h=i,s+=n,r+=n,n=0):(d=Math.round(d),h=Math.round(h)),{width:d,height:h,paddingTop:(r+n-h)/2,paddingLeft:(s+n-d)/2}},i=function(e,t,i){window.addEventListener?e.addEventListener(t,i):e.attachEvent("on"+t,i)},o=function(e,t,i){window.removeEventListener?e.removeEventListener(t,i):e.detachEvent("on"+t,i)},n=function(e,t){var o=this;i(e,"click",function(e){var i=!0;t&&(i&=t(e)),i&&(e.preventDefault(),o.render.call(o,e.currentTarget))})};n.prototype.render=function(e){this.blackout=document.createElement("div"),this.lightbox=document.createElement("div"),this.closeButton=document.createElement("img"),this.lightbox.style.position="relative",this.lightbox.style.display="block",this.lightbox.style.margin="50px auto",this.lightbox.style.minWidth="200px",this.lightbox.style.minHeight="150px",this.lightbox.style.maxWidth="90%",this.lightbox.style.maxHeight="90%",this.lightbox.style.backgroundColor="#fff",this.lightbox.style.padding="10px",this.lightbox.style.borderRadius="5px",this.closeButton.style.width="30px;",this.closeButton.style.height="30px",this.closeButton.style.top="-15px",this.closeButton.style.right="-15px",this.closeButton.style.position="absolute",this.closeButton.style.cursor="pointer",this.closeButton.setAttribute("src",this._getCloseIcon()),this.blackout.style.width="100%",this.blackout.style.height="100%",this.blackout.style.backgroundColor="rgba(0, 0, 0, 0.7)",this.blackout.style.position="fixed",this.blackout.style.top="0px",this.blackout.style.left="0px",this.blackout.style.zIndex="12147483646",this.lightbox.appendChild(this.closeButton),this.blackout.appendChild(this.lightbox);var t=this;if(e.getAttribute("data-img")){var o=document.createElement("img");this.sizing(100,100,!0),o.onload=function(){t.width=o.width,t.height=o.height,t.sizing(o.width,o.height,!0),o.style.width="100%",o.style.height="100%",t.lightbox.appendChild(o)},o.src=e.getAttribute("data-img"),i(window,"resize",function(){t.sizing.call(t,t.width,t.height,!0)})}else if(e.getAttribute("href")){var n=document.createElement("iframe");n.src=e.getAttribute("href"),n.width="100%",n.height="100%",n.setAttribute("type","text/html"),n.setAttribute("scrolling","no"),n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","allowfullscreen"),this.width=e.getAttribute("data-width")||600,this.height=e.getAttribute("data-height")||400,this.sizing(),this.lightbox.appendChild(n),i(window,"resize",function(){t.sizing.call(t)})}this.bindClose(),document.body.appendChild(this.blackout)},n.prototype._getCloseIcon=function(){return"http://d33i2vgywgme2s.cloudfront.net/embed/img/close.png"},n.prototype.sizing=function(e,i,o){e=e||this.width,i=i||this.height,o=o||!1;var n=t(e,i,o);this.lightbox.style.width=n.width+"px",this.lightbox.style.height=n.height+"px",this.lightbox.style.top=n.paddingTop+"px",this.lightbox.style.left=n.paddingLeft+"px",this.lightbox.style.margin="0"},n.prototype.bindClose=function(){var e=this,t=function(t){t.stopPropagation(),e.blackout.parentNode.removeChild(e.blackout),o(document,"keyup",n)},n=function(e){27==e.keyCode&&t(e)};i(this.closeButton,"click",t),i(this.blackout,"click",t),i(document,"keyup",n)},e.errorMessage=function(e,t){var n=document.createElement("div"),s=document.createElement("span"),r=document.createElement("h2"),a=document.createElement("p"),l=document.createElement("button");n.className="lightbox error",s.className="command-close icon icon-close",l.className="btn btn-lg",r.appendChild(document.createTextNode(e)),a.appendChild(document.createTextNode(t)),l.appendChild(document.createTextNode("OK"));var d=function(){n.parentNode.removeChild(n),o(document,"keyup",h)},h=function(e){27==e.keyCode&&d(e)};i(document,"keyup",h),i(s,"click",d),i(l,"click",d),n.appendChild(s),n.appendChild(r),n.appendChild(a),n.appendChild(l),document.body.appendChild(n)},e.ContentfullLightbox=n}(this),function(e){function t(){this.ELEMENTS_PREFIX="fb-",this.elementsArray=[],this.parseAllEmbeds()}return"undefined"!=typeof e.FBEmbed?void e.FBEmbed.parseAllEmbeds():(t.prototype.parseAllEmbeds=function(){for(var e=this._getElementsByClass(this.ELEMENTS_PREFIX+"embed"),t=0;t<e.length;t++){var i=e[t];this._indexOf(this.elementsArray,i)<0&&this._parseEmbed(i)}},t.prototype._parseEmbed=function(t){var i=this;if(this.elementsArray.push(t),"a"===t.tagName.toLowerCase()){var o=e.document.createElement("div"),n=/view\/(\d+)\//.exec(t.href);if(!n)return;o.setAttribute("data-"+this.ELEMENTS_PREFIX+"id",n[1]);for(var s=0,r=t.attributes.length;s<r;s++){var a=t.attributes[s],l="data-";a.name.slice(0,l.length)==l&&o.setAttribute(a.name,a.value)}o.style.display="inline-block",o.style.maxWidth="100%",this._insertAfter(o,t),t.style.display="none",t=o}var d=t.getAttribute("data-"+this.ELEMENTS_PREFIX+"id"),h=e.document.createElement("a");h.setAttribute("href",this._getPublicationLink(t,d)),h.setAttribute("title","View Publication"),h.setAttribute("target","_blank"),h.style.margin="0",h.style.padding="0",h.style.border="0",h.style.fontSize="100%;",h.style.font="inherit",h.style.verticalAlign="baseline",h.style.boxShadow="none",t.appendChild(h);var c=e.document.createElement("div");c.style.width="100%",c.style.height="100%",c.style.position="relative",h.appendChild(c);var p=e.document.createElement("img");p.style.maxWidth="95%",p.style.maxHeight="95%",p.style.height="auto",p.style.width="auto",p.style.position="absolute",p.style.top="0px",p.style.bottom="0px",p.style.left="0px",p.style.right="0px",p.style.margin="auto",p.style.boxShadow="0px 1px 3px 1px rgba(55, 50, 50, 0.4)",p.style.borderWidth="0px",p.src=this._getPublicationThumbLink(d),c.appendChild(p);var u=e.document.createElement("div");u.style.width="50px",u.style.height="50px",u.style.position="absolute",u.style.top="50%",u.style.left="50%",u.style.margin="-25px 0px 0px -25px",u.style.backgroundImage="url('"+this._getPublicationThumbIcon()+"')",u.style.backgroundPosition="center 0px";var m=function(e){u.style.backgroundPosition="center 50px"};this._addEvent(p,"mouseenter",m),this._addEvent(u,"mouseenter",m);var g=function(e){u.style.backgroundPosition="center 0px"};this._addEvent(p,"mouseleave",g),this._addEvent(u,"mouseleave",g),c.appendChild(u);var b=t.getAttribute("data-"+this.ELEMENTS_PREFIX+"width"),y=t.getAttribute("data-"+this.ELEMENTS_PREFIX+"height");b||(b=this._getEmbedDefaultWidth()+"px"),y||(y=this._getEmbedDefaultHeight()+"px"),t.style.width||(t.style.width=b),t.style.height||(t.style.height=y),"undefined"!=typeof e.ContentfullLightbox&&new e.ContentfullLightbox(h,function(o){var n=.8*i._getWindowWidth()>i._getPayloadMinWidth()&&.8*i._getWindowHeight()>i._getPayloadMinHeight(),s=e.browser,r=!1;s&&(r=s.isMobile);var a="no"!==t.getAttribute("data-"+i.ELEMENTS_PREFIX+"lightbox");return n&&!r&&a});var f=e.document.createElement("div");if(t.appendChild(f),this._runPayload(t,f,d),this._resizeEmbed(t,f,h),this._addEvent(e,"resize",function(){i._resizeEmbed(t,f,h)}),this._doResize=function(){i._resizeEmbed(t,f,h)},"no"!==t.getAttribute("data-"+i.ELEMENTS_PREFIX+"analytics")){var v=t.getAttribute("data-"+this.ELEMENTS_PREFIX+"method");v||(v=""),this._sendAnalytics(d,v)}},t.prototype._sendAnalytics=function(t,i){this._ajax(this._getAnalyticsUrl(),function(e,t){200!=t.status&&console.log(t)},'{"RecordOnly":true,"HashId":"'+t+'","EmbedDomain":"'+e.location.hostname+'","EmbedMethod":"'+i+'"}')},t.prototype._ajax=function(e,t,i,o){var n;try{n=new ActiveXObject("Msxml2.XMLHTTP")}catch(s){try{n=new ActiveXObject("Microsoft.XMLHTTP")}catch(r){n=!1}}n||"undefined"==typeof XMLHttpRequest||(n=new XMLHttpRequest);try{n.open(i?"POST":"GET",e,1),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){n.readyState>3&&t&&t(n.responseText,n)},n.send(i)}catch(s){window.console&&console.log(s)}},t.prototype._runPayload=function(t,i,o){if(this._shouldShowPayload()){var n=e.document.createElement("iframe");n.style.width="100%",n.style.height="100%",n.setAttribute("type","text/html"),n.setAttribute("scrolling","no"),n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","allowfullscreen"),n.setAttribute("src",this._getPublicationLink(t,o)),i.appendChild(n)}},t.prototype._resizeEmbed=function(e,t,i){var o=this,n=this._getBoundingClientRect(e);return 0===n.width||0===n.height?void setTimeout(function(){o._resizeEmbed(e,t,i)},10):(n.width>=this._getPayloadMinWidth()&&n.height>=this._getPayloadMinHeight()&&this._shouldShowPayload()?(t.style.display="inline",i.style.display="none"):(t.style.display="none",i.style.display="block"),t.style.width=i.style.width=n.width+"px",void(t.style.height=i.style.height=n.height+"px"))},t.prototype._getPayloadMinWidth=function(){return 400},t.prototype._getPayloadMinHeight=function(){return 200},t.prototype._getEmbedDefaultWidth=function(){return 250},t.prototype._getEmbedDefaultHeight=function(){return 150},t.prototype._shouldShowPayload=function(){var t=e.browser;return!!t&&t.isFlash},t.prototype._getAnalyticsUrl=function(){return"https://fbo-b.flippingbook.com/FrontendAPI.svc/GetPublicationForDisplay"},t.prototype._getPublicationLink=function(t,i){var o="no"!==t.getAttribute("data-"+this.ELEMENTS_PREFIX+"analytics"),n="yes"===t.getAttribute("data-"+this.ELEMENTS_PREFIX+"preview");return"https://online.flippingbook.com/view/"+i+"/"+(o?"?embedContainer="+encodeURIComponent(e.location.href):"")+(n?(o?"&":"?")+"noview=true":"")},t.prototype._getPublicationThumbLink=function(e){return"https://online.flippingbook.com/Thumbnail.aspx?hid="+e},t.prototype._getPublicationThumbIcon=function(){return e.location.protocol+"//d33i2vgywgme2s.cloudfront.net/embed/img/embed_btn.png"},t.prototype._getLargeLogoImageUrl=function(){return e.location.protocol},t.prototype._getSmallLogoImageUrl=function(){return e.location.protocol},t.prototype._getWindowWidth=function(){return e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth},t.prototype._getWindowHeight=function(){return e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight},t.prototype._getBoundingClientRect=function(e){var t=e.getBoundingClientRect();return{width:t.width||t.right-t.left,height:t.height||t.bottom-t.top,left:t.left,right:t.right,top:t.top,bottom:t.bottom}},t.prototype._getElementsByClass=function(t,i){if("undefined"==typeof i&&(i=e.document),"function"==typeof i.getElementsByClassName)return i.getElementsByClassName(t);var o=[],n=i.getElementsByTagName("*");for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&"object"==typeof n[s]){var r=Object.prototype.hasOwnProperty.call(n[s],"className")?n[s].className:n[s].getAttribute("className"),a=null===r?[]:r.split(" ");this._indexOf(a,t)!==-1&&o.push(n[s])}return o},t.prototype._indexOf=function(e,t){if(null==e)return-1;var i,o;for(i=0,o=e.length;i<o;i++)if(i in e&&e[i]===t)return i;return-1},t.prototype._insertAfter=function(e,t){var i=t.parentNode;i.lastChild==t?i.appendChild(e):i.insertBefore(e,t.nextSibling)},t.prototype._addEvent=function(e,t,i){window.addEventListener?e.addEventListener(t,i,!0):e.attachEvent("on"+t,i)},void(e.FBEmbed=new t))}(this);